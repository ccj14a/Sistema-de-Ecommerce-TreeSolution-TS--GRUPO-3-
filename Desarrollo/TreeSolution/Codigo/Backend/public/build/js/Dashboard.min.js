document.addEventListener("DOMContentLoaded",function(){document.querySelector("#togglePassword"),document.querySelector("#password"),document.getElementById("loginForm");let t=document.querySelector(".header__action-icon"),n=document.getElementById("userMenu");var e=document.getElementById("cartIcon");let o=document.getElementById("cartModal"),d=document.getElementById("cartItems"),l=document.getElementById("totalPrice"),a=document.getElementById("cartCount"),i=document.getElementById("productModal");var c=document.getElementById("searchButton");let r=document.getElementById("searchInput"),s=document.getElementById("productList"),u=document.getElementById("sortOptions"),y=document.getElementById("overlay"),m=[];function p(){d.innerHTML="";let n=0,o=0;m.forEach(e=>{var t=document.createElement("li");t.innerHTML=`${e.name} - S/ ${e.price.toFixed(2)} x ${e.quantity}
          <button class="remove-item" data-name="${e.name}">Quitar</button>`,d.appendChild(t),o+=e.price*e.quantity,n+=e.quantity}),l.textContent="Total: S/ "+o.toFixed(2),a.textContent=n}t.addEventListener("click",function(){n.style.display="block"===n.style.display?"none":"block"}),document.getElementById("logout").addEventListener("click",function(){window.location.href="Inicio.html"}),window.addEventListener("click",function(e){e.target===t||t.contains(e.target)||e.target===n||n.contains(e.target)||(n.style.display="none")}),e.addEventListener("click",function(){o.style.display="block",y.style.display="block",document.body.style.overflow="hidden"}),window.addEventListener("click",function(e){e.target!==o&&e.target!==i||(e.target.style.display="none",y.style.display="none",document.body.style.overflow="")}),document.querySelectorAll(".product").forEach(o=>{o.addEventListener("click",function(){var e=o.getAttribute("data-name"),t=o.getAttribute("data-price"),n=o.querySelector("img").getAttribute("src");document.getElementById("modalImage").setAttribute("src",n),document.getElementById("modalName").textContent=e,document.getElementById("modalPrice").textContent="Precio: S/ "+t,i.style.display="block",y.style.display="block",document.body.style.overflow="hidden"})}),document.getElementById("addToCart").addEventListener("click",function(){let t=document.getElementById("modalName").textContent;var e=parseFloat(document.getElementById("modalPrice").textContent.replace("Precio: S/ ","")),n=parseInt(document.getElementById("quantity").value),o=m.findIndex(e=>e.name===t);-1<o?m[o].quantity+=n:m.push({name:t,price:e,quantity:n}),p(),i.style.display="none",y.style.display="none",document.body.style.overflow=""}),d.addEventListener("click",function(e){var t;e.target.classList.contains("remove-item")&&(e=e.target.getAttribute("data-name"),t=e,-1<(e=m.findIndex(e=>e.name===t))&&m.splice(e,1),p())}),document.querySelectorAll(".close").forEach(e=>{e.addEventListener("click",function(){o.style.display="none",i.style.display="none",y.style.display="none",document.body.style.overflow=""})}),document.getElementById("checkout").addEventListener("click",function(){alert("Gracias por su compra"),m=[],p(),o.style.display="none",y.style.display="none",document.body.style.overflow=""}),document.getElementById("cancel").addEventListener("click",function(){o.style.display="none",y.style.display="none",document.body.style.overflow=""}),c.addEventListener("click",function(){let t=r.value.toLowerCase();document.querySelectorAll(".product").forEach(e=>{e.getAttribute("data-name").toLowerCase().includes(t)?e.style.display="block":e.style.display="none"})}),u.addEventListener("change",function(){var e=u.value,t=Array.from(document.querySelectorAll(".product"));"name"===e?t.sort((e,t)=>{e=e.getAttribute("data-name").toLowerCase(),t=t.getAttribute("data-name").toLowerCase();return e.localeCompare(t)}):"price"===e&&t.sort((e,t)=>{return parseFloat(e.getAttribute("data-price"))-parseFloat(t.getAttribute("data-price"))}),t.forEach(e=>{s.appendChild(e)})})});let slider=document.querySelector(".slider"),slides=document.querySelector(".slides"),images=document.querySelectorAll(".slides img"),prevBtn=document.querySelector(".prevBtn"),nextBtn=document.querySelector(".nextBtn"),dotsContainer=document.querySelector(".dots-container"),counter=0,slideWidth=images[0].clientWidth;function nextSlide(){counter>=images.length-1?counter=0:counter++,updateSlider()}function prevSlide(){counter<=0?counter=images.length-1:counter--,updateSlider()}function goToSlide(e){counter=e,updateSlider()}function updateSlider(){slides.style.transition="transform 0.5s ease-in-out",slides.style.transform=`translateX(${-slideWidth*counter}px)`,updateDots()}function updateDots(){document.querySelectorAll(".dot").forEach((e,t)=>{t===counter?e.classList.add("active"):e.classList.remove("active")})}function autoSlide(){nextSlide(),updateDots()}slides.style.transform=`translateX(${-slideWidth*counter}px)`,nextBtn.addEventListener("click",nextSlide),prevBtn.addEventListener("click",prevSlide),images.forEach((e,t)=>{var n=document.createElement("div");n.classList.add("dot"),dotsContainer.appendChild(n),n.addEventListener("click",()=>{goToSlide(t)})});let slideInterval=setInterval(autoSlide,3e3);slider.addEventListener("mouseenter",()=>{clearInterval(slideInterval)}),slider.addEventListener("mouseleave",()=>{slideInterval=setInterval(autoSlide,3e3)}),document.addEventListener("DOMContentLoaded",function(){var n=document.getElementById("tituloAnimado"),e=n.textContent.trim();n.innerHTML="",e.split(" ").forEach(function(e,d,t){0<d&&n.appendChild(document.createTextNode("Â "));var l=document.createElement("span");n.appendChild(l),e.split("").forEach(function(e,t,n){var o=document.createElement("span");o.textContent=e,o.style.animation="desplazamiento 0.5s forwards cubic-bezier(0.5, 0, 0.5, 1)",o.style.animationDelay=d+.1*t+"s",l.appendChild(o)})})}),document.addEventListener("DOMContentLoaded",function(){let t=document.getElementById("verPerfilModal"),n=document.getElementById("editarPerfilModal");var e=document.getElementById("closeVerPerfilModal"),o=document.getElementById("closeEditarPerfilModal");let d=document.getElementById("overlay");var l=document.getElementById("verPerfil"),a=document.getElementById("editarPerfil");l.addEventListener("click",function(){t.style.display="block",d.style.display="block",document.body.style.overflow="hidden"}),a.addEventListener("click",function(){n.style.display="block",d.style.display="block",document.body.style.overflow="hidden"}),e.addEventListener("click",function(){t.style.display="none",d.style.display="none",document.body.style.overflow=""}),o.addEventListener("click",function(){n.style.display="none",d.style.display="none",document.body.style.overflow=""}),window.addEventListener("click",function(e){e.target===d&&(t.style.display="none",n.style.display="none",d.style.display="none",document.body.style.overflow="")}),window.addEventListener("keydown",function(e){"Escape"===e.key&&(t.style.display="none",n.style.display="none",d.style.display="none",document.body.style.overflow="")})});